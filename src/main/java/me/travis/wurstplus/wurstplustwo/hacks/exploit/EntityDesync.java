package me.travis.wurstplus.wurstplustwo.hacks.exploit;

//Imports

import me.travis.wurstplus.wurstplustwo.guiscreen.settings.WurstplusSetting;
import me.travis.wurstplus.wurstplustwo.hacks.WurstplusCategory;
import me.travis.wurstplus.wurstplustwo.hacks.WurstplusHack;
import net.minecraft.client.Minecraft;
import net.minecraft.entity.Entity;
import net.minecraft.network.play.client.CPacketVehicleMove;
import net.minecraftforge.fml.common.gameevent.TickEvent.ClientTickEvent;


//Module

public class EntityDesync extends WurstplusHack {

    //Module Info
    public EntityDesync() {
        super(WurstplusCategory.WURSTPLUS_EXPLOIT);

        this.name        = "Entity Desync"; //Commands and Clickgui
        this.tag         = "EntityDesync"; //Config and Arraylist
        this.description = "for wwe donkey dupe"; //Useless but normally i add this
    }

    Entity entity;

    @Override
    public void enable() {
        if (mc.player.getRidingEntity() != null) {
            entity = mc.player.getRidingEntity();
            mc.player.dismountRidingEntity();
            mc.world.removeEntity(entity);
        }
    }
        @Override
        public void update() {
            if (entity != null) {
                try {
                    entity.posX = mc.player.posX;
                    entity.posY = mc.player.posY;
                    entity.posZ = mc.player.posZ;
                    mc.getConnection().sendPacket(new CPacketVehicleMove(entity));
                } catch (Exception e1) {}
            }
        }
    }


